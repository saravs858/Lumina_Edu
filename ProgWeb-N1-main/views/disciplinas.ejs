<%- include('partials/header_main', { title: 'Disciplinas - ENEM' }); %>

<div class="container py-5">
  <h2 class="text-center text-dourado mb-4">Áreas de Conhecimento do ENEM</h2>

  <div class="row g-4">
    <% const areas = [
      {
        nome: "Linguagens, Códigos e suas Tecnologias",
        icone: "fa-language",
        cor: "bg-primary",
        materias: ["Português", "Literatura", "Inglês", "Espanhol"]
      },
      {
        nome: "Matemática e suas Tecnologias",
        icone: "fa-square-root-variable",
        cor: "bg-warning",
        materias: ["Matemática"]
      },
      {
        nome: "Ciências da Natureza e suas Tecnologias",
        icone: "fa-flask-vial",
        cor: "bg-success",
        materias: ["Física", "Química", "Biologia"]
      },
      {
        nome: "Ciências Humanas e suas Tecnologias",
        icone: "fa-earth-americas",
        cor: "bg-danger",
        materias: ["História", "Geografia", "Filosofia", "Sociologia"]
      }
    ]; %>

    <% function slugify(text) {
      return text
        .toLowerCase()
        .normalize('NFD') // Remove acentos
        .replace(/[\u0300-\u036f]/g, '')
        .replace(/\s+/g, '-') // Substitui espaços por "-"
        .replace(/[^\w\-]+/g, '') // Remove caracteres especiais
        .replace(/\-\-+/g, '-') // Remove hífens duplicados
        .replace(/^-+/, '') // Remove hífens do início
        .replace(/-+$/, ''); // Remove hífens do fim
    } %>

     <% areas.forEach(area => { %>
      <div class="col-md-6 col-lg-6">
        <div class="card shadow-sm h-100">
          <div class="card-header <%= area.cor %> text-white">
            <h5 class="mb-0">
              <i class="fas <%= area.icone %> me-2"></i> <!-- Classe atualizada aqui -->
              <%= area.nome %>
            </h5>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <% area.materias.forEach(materia => { %>
                <li class="list-group-item">
                  <a href="/<%= slugify(materia) %>" class="btn-materia text-verde text-decoration-none">
                    <i class="fas fa-book me-2"></i> <!-- Ícone de livro mantido -->
                    <%= materia %>
                  </a>
                </li>
              <% }) %>
            </ul>
          </div>
        </div>
      </div>
    <% }); %>
  </div>
</div>

<%- include('partials/footer'); %>